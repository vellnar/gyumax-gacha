<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æŠ½é¸çµæœ</title>
<style>
  /* å…±é€šã‚¹ã‚¿ã‚¤ãƒ« */
  body {
    margin: 0; padding: 0;
    font-family: sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    height: 100vh;
    transition: all 0.5s ease;
  }
  .message {
    font-weight: bold;
    margin-bottom: 0.5em;
  }
  .main-message {
    font-size: 2.4rem;
  }
  .sub-message {
    font-size: 1.2rem;
    margin-top: 0.3em;
    opacity: 0.8;
    max-width: 600px;
  }
  .note-message {
    font-size: 1rem;
    margin-top: 0.6em;
    opacity: 0.7;
  }
  .button, .btn {
    margin-top: 2em;
    padding: 10px 26px;
    font-size: 1rem;
    border-radius: 6px;
    cursor: pointer;
    transition: 0.3s ease;
    font-weight: bold;
    text-decoration: none;
    display: inline-block;
  }

  /* --------- å½“ãŸã‚Šç”¨ --------- */
  .win .main-message {
    font-weight: 900;
  }

  /* --------- ã¯ãšã‚Œç”¨ --------- */
  .lose .main-message {
    font-weight: 700;
  }

  /* --------- Theme A --------- */
  .theme-A.win {
    background: #000;
    color: #d4af37;
    font-family: 'Segoe UI', sans-serif;
  }
  .theme-A.lose {
    background: #111;
    color: #ccc;
    font-family: 'Segoe UI', sans-serif;
  }
  .theme-A .button, .theme-A .btn {
    border: 2px solid currentColor;
    background: transparent;
    color: inherit;
  }
  .theme-A .button:hover, .theme-A .btn:hover {
    background: rgba(255,255,255,0.1);
  }
  .theme-A.lose .btn {
    background-color: #555;
  }
  .theme-A.lose .btn:hover {
    background-color: #777;
  }

  /* --------- Theme B --------- */
  @import url('https://fonts.googleapis.com/css2?family=Shippori+Mincho+B1&display=swap');
  .theme-B.win {
    background: #111 radial-gradient(ellipse at center, rgba(255,90,0,0.05), transparent 70%);
    color: #fdf6e3;
    font-family: 'Shippori Mincho B1', serif;
  }
  .theme-B.lose {
    background: #2b1b1b;
    color: #ffdfcf;
    font-family: 'Shippori Mincho B1', serif;
  }
  .theme-B .button, .theme-B .btn {
    background: transparent;
    border: 2px solid #ff6600;
    color: #ff6600;
  }
  .theme-B .button:hover, .theme-B .btn:hover {
    background: #ff6600;
    color: #111;
  }
  .theme-B.lose h1 {
    color: #ff6347;
    text-shadow: 1px 1px 3px #000;
  }
  .theme-B.lose .btn {
    background-color: #aa3322;
  }
  .theme-B.lose .btn:hover {
    background-color: #cc5544;
  }

  /* --------- Theme C --------- */
  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap');
  .theme-C.win {
    background: radial-gradient(circle at center, #1a1a1a 0%, #000 80%);
    color: #fff;
    font-family: 'Noto Sans JP', sans-serif;
  }
  .theme-C.lose {
    background: radial-gradient(circle at center, #1a1a1a, #000);
    color: #e0e0e0;
    font-family: 'Noto Sans JP', sans-serif;
  }
  .theme-C .button, .theme-C .btn {
    border: 1.5px solid #ffffffcc;
    color: #ffffffcc;
    background: transparent;
  }
  .theme-C .button:hover, .theme-C .btn:hover {
    background: #ffffffcc;
    color: #000;
  }
  .theme-C.lose h1 {
    color: #888;
  }
  .theme-C.lose .btn {
    background-color: #666;
  }
  .theme-C.lose .btn:hover {
    background-color: #aaa;
    color: #000;
  }
  .accent { color: #ffd700; }

  /* --------- Theme D --------- */
  @import url('https://fonts.googleapis.com/css2?family=Yusei+Magic&display=swap');
  .theme-D.win {
    background: linear-gradient(135deg, #e53935 10%, #ffd600 50%, #1976d2 90%);
    color: #111;
    font-family: 'Yusei Magic', sans-serif;
  }
  .theme-D.lose {
    background: repeating-linear-gradient(45deg, #ff3d00, #ff3d00 20px, #1976d2 20px, #1976d2 40px);
    color: #fff;
    font-family: 'Yusei Magic', sans-serif;
  }
  .theme-D .button, .theme-D .btn {
    background-color: #fff200;
    border: none;
    color: #000;
    font-weight: bold;
  }
  .theme-D .button:hover, .theme-D .btn:hover {
    background-color: #ffec40;
  }
  .theme-D.lose h1 {
    text-shadow: 2px 2px #000;
    color: #ffd600;
  }
  .theme-D.lose .btn {
    background-color: #111;
    color: #ffd600;
    border: 2px solid #ffd600;
  }
  .theme-D.lose .btn:hover {
    background-color: #ffd600;
    color: #111;
  }

  /* --------- Theme E --------- */
  @import url('https://fonts.googleapis.com/css2?family=Yomogi&display=swap');
  .theme-E.win {
    background: linear-gradient(to bottom, #aab2aa, #d3d6d4);
    color: #1c1c1c;
    font-family: 'Yomogi', cursive;
  }
  .theme-E.lose {
    background: linear-gradient(to top, #bfc5c2, #e4e4e4);
    color: #3a3a3a;
    font-family: 'Yomogi', cursive;
  }
  .theme-E .button, .theme-E .btn {
    background-color: #4f5e4f;
    color: #fff;
    border: none;
    font-weight: bold;
  }
  .theme-E .button:hover, .theme-E .btn:hover {
    background-color: #738f7a;
  }
  .theme-E.lose h1 {
    color: #4f5e4f;
  }
  .theme-E.lose .btn {
    background-color: #4f5e4f;
    color: #fff;
    border-radius: 8px;
  }
  .theme-E.lose .btn:hover {
    background-color: #738f7a;
    color: #fff;
  }

  /* --------- Theme F --------- */
  @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');
  .theme-F.win {
    background: radial-gradient(circle at center, #000 40%, #1a1a1a 100%);
    color: #00e5ff;
    font-family: 'Share Tech Mono', monospace;
    text-shadow: 0 0 8px #00e5ff;
  }
  .theme-F.lose {
    background: linear-gradient(to bottom, #0d0d0d, #1a1a1a);
    color: #8fd3ff;
    font-family: 'Share Tech Mono', monospace;
    text-shadow: 0 0 4px #0099cc;
  }
  .theme-F .button, .theme-F .btn {
    background-color: transparent;
    border: 2px solid #00e5ff;
    color: #00e5ff;
  }
  .theme-F .button:hover, .theme-F .btn:hover {
    background-color: #00e5ff22;
  }
  .theme-F.lose h1 {
    color: #00bcd4;
  }
  .theme-F.lose .btn {
    background-color: transparent;
    border: 2px solid #00bcd4;
    color: #00bcd4;
  }
  .theme-F.lose .btn:hover {
    background-color: #00bcd433;
  }

  /* --------- Theme G --------- */
  @import url('https://fonts.googleapis.com/css2?family=Kiwi+Maru:wght@500&display=swap');
  .theme-G.win {
    background: #fdf7f2;
    color: #8b0000;
    font-family: 'Kiwi Maru', serif;
  }
  .theme-G.lose {
    background: #fff7f0;
    color: #8b0000;
    font-family: 'Kiwi Maru', serif;
  }
  .theme-G .button, .theme-G .btn {
    background-color: #8b0000;
    color: #fff;
    border: none;
  }
  .theme-G .button:hover, .theme-G .btn:hover {
    background-color: #aa1e1e;
  }
  .theme-G.lose h1 {
    color: #c0392b;
  }

  /* --------- Theme H --------- */
  .theme-H.win {
    background: radial-gradient(circle, #1a0000 0%, #000 100%);
    color: #ff4444;
    font-family: 'Share Tech Mono', monospace;
    text-shadow: 0 0 6px red;
  }
  .theme-H.lose {
    background: radial-gradient(circle, #1a0000 0%, #000 100%);
    color: #ff4444;
    font-family: 'Share Tech Mono', monospace;
    text-shadow: 0 0 6px red;
  }
  .theme-H .button, .theme-H .btn {
    background-color: transparent;
    border: 2px solid red;
    color: red;
  }
  .theme-H .button:hover, .theme-H .btn:hover {
    background-color: #ff000033;
  }
  .theme-H.win .glitch,
  .theme-H.lose h1 {
    position: relative;
  }
  .theme-H.win .glitch::before,
  .theme-H.win .glitch::after {
    content: attr(data-text);
    position: absolute;
    left: 0;
    width: 100%;
    opacity: 0.7;
  }
  .theme-H.win .glitch::before {
    color: red;
    z-index: -1;
    animation: glitch-h 0.3s infinite linear alternate-reverse;
  }
  .theme-H.win .glitch::after {
    color: #ff9999;
    z-index: -2;
    animation: glitch-h 0.2s infinite linear alternate-reverse;
  }
  @keyframes glitch-h {
    0% { transform: translate(0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(2px, -1px); }
    60% { transform: translate(-1px, 1px); }
    80% { transform: translate(1px, -2px); }
    100% { transform: translate(0); }
  }

  /* --------- Theme I --------- */
  @import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@500&display=swap');
  .theme-I.win {
    background: linear-gradient(to bottom, #000015, #001f3f);
    color: #33ccff;
    font-family: 'Rajdhani', sans-serif;
    overflow: hidden;
    position: relative;
  }
  .theme-I.lose {
    background: linear-gradient(to bottom, #000015, #001f3f);
    color: #33ccff;
    font-family: 'Rajdhani', sans-serif;
    overflow: hidden;
    position: relative;
  }
  .theme-I .button, .theme-I .btn {
    border: 2px solid #33ccff;
    color: #33ccff;
    background-color: transparent;
  }
  .theme-I .button:hover, .theme-I .btn:hover {
    background-color: #33ccff20;
  }
  .theme-I .glitch,
  .theme-I h1 {
    position: relative;
    display: inline-block;
  }
  .theme-I .glitch::before,
  .theme-I .glitch::after {
    content: attr(data-text);
    position: absolute;
    left: 0;
    width: 100%;
    overflow: hidden;
    opacity: 0.7;
  }
  .theme-I .glitch::before {
    top: -1px;
    left: 2px;
    text-shadow: -1px 0 cyan;
    animation: glitch-i-1 2.4s infinite linear alternate-reverse;
  }
  .theme-I .glitch::after {
    top: 1px;
    left: -2px;
    text-shadow: 1px 0 blue;
    animation: glitch-i-2 1.8s infinite linear alternate-reverse;
  }
  .theme-I::before {
    content: "";
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: repeating-linear-gradient(
      to bottom,
      rgba(0, 255, 255, 0.02),
      rgba(0, 255, 255, 0.02) 1px,
      transparent 1px,
      transparent 3px
    );
    pointer-events: none;
    z-index: 1;
  }
  @keyframes glitch-i-1 {
    0% { clip: rect(4px,9999px,8px,0); transform: translate(1px,-1px); }
    40% { clip: rect(6px,9999px,12px,0); transform: translate(2px,1px); }
    100% { clip: rect(5px,9999px,8px,0); transform: translate(-1px,-1px); }
  }
  @keyframes glitch-i-2 {
    0% { clip: rect(1px,9999px,6px,0); transform: translate(-1px,0); }
    50% { clip: rect(5px,9999px,10px,0); transform: translate(-2px,-1px); }
    100% { clip: rect(4px,9999px,9px,0); transform: translate(0,-1px); }
  }
</style>
</head>
<body>
  <div id="content">
    <div class="message main-message" id="mainText">èª­ã¿è¾¼ã¿ä¸­â€¦</div>
    <div class="message sub-message" id="subText"></div>
    <div class="message note-message" id="noteText"></div>
    <button class="button" id="progressBtn">é€²è¡Œåº¦ã‚’ç¢ºèª</button>
  </div>

<script>
(() => {
  const params = new URLSearchParams(window.location.search);
  const result = params.get("result")?.toLowerCase();
  const themeParam = (params.get("id") || "").toUpperCase();
  const token = params.get("token");
  const storedToken = sessionStorage.getItem("gyumax_token");

  const validThemes = ["A","B","C","D","E","F","G","H","I"];

  // ãƒˆãƒ¼ã‚¯ãƒ³ä¸ä¸€è‡´ã¾ãŸã¯ä¸æ­£ãƒ†ãƒ¼ãƒ â†’ ã‚¨ãƒ©ãƒ¼ã¸
  if (!token || token !== storedToken || !validThemes.includes(themeParam)) {
    window.location.href = "error.html";
    return;
  }

  const theme = themeParam;

  // body ã«ã‚¯ãƒ©ã‚¹ä»˜ä¸
  document.body.classList.add(`theme-${theme}`);
  if (result === "win" || result === "atari" || result === "ã‚ãŸã‚Š") {
    document.body.classList.add("win");
  } else {
    document.body.classList.add("lose");
  }

  const mainText = document.getElementById("mainText");
  const subText = document.getElementById("subText");
  const noteText = document.getElementById("noteText");
  const progressBtn = document.getElementById("progressBtn");

  progressBtn.onclick = () => {
    location.href = "stamp.html";
  };

  const textMap = {
    "A": {
      win: {
        main: "ã‚ãŸã‚Š",
        sub: "ã“ã‚ŒãŒå¥‡è·¡ã ã€‚æ—¥é ƒã®è¡Œã„ã®çµæœã ãªã€‚",
        note: "ã‚¹ã‚¿ãƒƒãƒ•ã«ã“ã®ç”»é¢ã‚’æç¤ºã™ã‚Œã°ãƒãƒ¼ã‚ºãƒˆãƒƒãƒ”ãƒ³ã‚°ç„¡æ–™ï¼"
      },
      lose: {
        main: "ã¯ãšã‚Œ",
        sub: "ãã†ã‹ã€‚ä¿ºã‚‚ã¾ã ãªã„ã€‚ãƒã‚¹ã‚¿ãƒ¼ã¯ã¾ã ã‚ã‚‹ã€‚ãã†æ°—ã‚’è½ã¨ã™ãª",
        note: "ãƒã‚¹ã‚¿ãƒ¼ã¯å…¨éƒ¨ã§ï¼™æšã‚ã‚‹ã€‚"
      }
    },
    "B": {
      win: {
        main: "ã‚ãŸã‚Š",
        sub: "ã©ã†ã§ã™ã‹ã€‚ã›ã£ã‹ãã§ã™ã—ã€ä¸€åº¦ã€è²·ã‚ã‚Œã¦ã„ãã¾ã›ã‚“ã‹ï¼Ÿ",
        note: "ã“ã®ç”»é¢ã‚’æç¤ºã™ã‚Œã°ãƒãƒ¼ã‚ºãƒˆãƒƒãƒ”ãƒ³ã‚°ãŒç„¡æ–™ã§ä»˜ã‘ã‚‰ã‚Œã¾ã™ã‚ˆã€‚"
      },
      lose: {
        main: "ã¯ãšã‚Œ",
        sub: "ãŠã‚„ã€æ®‹å¿µã§ã™ã­ã€‚ã›ã£ã‹ãã§ã™ã—ã€ä»–ã®ãƒã‚¹ã‚¿ãƒ¼ã‚‚æ¢ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚å½“ãŸã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚",
        note: "ãƒã‚¹ã‚¿ãƒ¼ã¯å…¨éƒ¨ã§ï¼™æšã‚ã‚‹ãã†ã§ã™ã‚ˆã€‚å™‚ã«ã‚ˆã‚‹ã¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆâ€¦ã£ã¨ã€ã“ã‚Œã¯ã¾ã ç§˜å¯†ã«ã—ã¦ãŠãã¾ã—ã‚‡ã†ã‹ã€‚"
      }
    },
    "C": {
      win: {
        main: "ã‚ãŸã‚Š",
        sub: "ã‚„ã£ãŸãªãŠã„ï¼ãƒˆãƒƒãƒ”ãƒ³ã‚°ã—ã¦ã‚‚ã‚‰ã£ã¦ä»–ã®äººã«ã‚‚è‡ªæ…¢ã—ã«ã„ã“ã†ãœï¼",
        note: "ã“ã®ç”»é¢è¦‹ã›ã‚Œã°ç„¡æ–™ã§ãƒˆãƒƒãƒ”ãƒ³ã‚°ã—ã¦ã‚‚ã‚‰ãˆã‚‹ã‚“ã ã£ã¦ã‚ˆï¼æ—©ãè¡Œã“ã†ãœï¼"
      },
      lose: {
        main: "ã¯ãšã‚Œ",
        sub: "ã‚“ï½ã¾ãã§ã‚‚ä»–ã®ãƒã‚¹ã‚¿ãƒ¼è¦‹ã¤ã‘ã¦èª­ã¿è¾¼ã‚ã°ã¾ãŸã‚¬ãƒãƒ£å‡ºæ¥ã‚‹ã‹ã‚‰ã€æ¢ã—ã¤ã¤è‰²ã€…è¦‹ã¦å›ã‚ã†ãœï¼",
        note: "ãƒã‚¹ã‚¿ãƒ¼ã¯å…¨éƒ¨ã§ï¼™æšã‚ã‚‹ã£ã¤ã†ã‹ã‚‰ã€ã¾ãå…¨éƒ¨ã‚„ã‚Œã°ã©ã‚Œã‹ã¯å½“ãŸã‚‹ã•"
      }
    },
    "D": {
      win: {
        main: "ã‚ãŸã‚Šï¼",
        sub: "ãˆã‚„ã£ãŸã˜ã‚ƒã‚“ï¼é‹è‰¯ã„ã­ï½ï¼ãˆã£ã¨ã€ã¡ã‚‡ã£ã¨å¾…ã£ã¦ã­ã€ã‚ã€ã‚ã£ãŸã‚ã£ãŸ",
        note: "ã€Œã“ã®ç”»é¢ã‚’ã¿ã›ã‚Œã°ãƒãƒ¼ã‚ºãƒˆãƒƒãƒ”ãƒ³ã‚°ç„¡æ–™ã€â€¦ã ã£ã¦ã•ï¼æ—©ãè¡Œã“ï¼"
      },
      lose: {
        main: "ã¯ãšã‚Œ",
        sub: "â€¦ä»–ã®ãƒã‚¹ã‚¿ãƒ¼æ¢ãã£ã‹ã€‚",
        note: "å¤§ä¸ˆå¤«ã€‚å…¨éƒ¨ã§ï¼™æšã‚ã‚‹ã‹ã‚‰ã€‚å…¨éƒ¨å¤–ã‚Œã‚‹ã“ã¨ã¯ãªã„ã¨ãŠã‚‚ã†ã‚ˆã€‚"
      }
    },
    "E": {
      win: {
        main: "ã‚ãŸã‚Š",
        sub: "ä»Šã‚’æ¥½ã—ã‚‚ã†ã€‚ã›ã£ã‹ãå½“ãŸã£ãŸã‚“ã ã—ã€é£Ÿã¹ã¦ã¿ãªã„ï¼Ÿ",
        note: "ã“ã®ç”»é¢ã‚’æç¤ºã§ãƒãƒ¼ã‚ºãƒˆãƒƒãƒ”ãƒ³ã‚°ç„¡æ–™"
      },
      lose: {
        main: "ã¯ãšã‚Œ",
        sub: "ã¾ãŸãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ãã ã•ã„ï¼",
        note: ""
      }
    },
    "F": {
      win: {
        main: "ğŸ’ å¤§å½“ãŸã‚Šï¼",
        sub: "ç‰¹åˆ¥ãƒˆãƒƒãƒ”ãƒ³ã‚°ã‚’ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆï¼",
        note: "ã‚¹ã‚¿ãƒƒãƒ•ã«ç”»é¢æç¤ºã‚’ãŠé¡˜ã„ã—ã¾ã™"
      },
      lose: {
        main: "â— ã¯ãšã‚Œã§ã™",
        sub: "æ¬¡å›ã‚‚æŒ‘æˆ¦ã—ã¦ãã ã•ã„ï¼",
        note: ""
      }
    },
    "G": {
      win: {
        main: "ğŸŠ ã‚ãŸã‚Šï¼",
        sub: "ç„¡æ–™ãƒˆãƒƒãƒ”ãƒ³ã‚°ã‚’ã©ã†ãï¼",
        note: "ã‚¹ã‚¿ãƒƒãƒ•ã«ç”»é¢ã‚’ãŠè¦‹ã›ãã ã•ã„"
      },
      lose: {
        main: "ğŸš« ã¯ãšã‚Œâ€¦",
        sub: "æ¬¡å›ã®æŒ‘æˆ¦ã‚’ãŠå¾…ã¡ã—ã¦ã„ã¾ã™",
        note: ""
      }
    },
    "H": {
      win: {
        main: "ğŸ”¥ ã‚ãŸã‚Šï¼",
        sub: "ç‰¹åˆ¥ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç²å¾—ã—ã¾ã—ãŸï¼",
        note: "ã‚¹ã‚¿ãƒƒãƒ•ã«ç”»é¢ã‚’è¦‹ã›ã¦ãã ã•ã„"
      },
      lose: {
        main: "âŒ ã¯ãšã‚Œã§ã™",
        sub: "ã¾ãŸæŒ‘æˆ¦ã—ã¦ãã ã•ã„ï¼",
        note: ""
      }
    },
    "I": {
      win: {
        main: "âš¡ å¤§å½“ãŸã‚Šï¼",
        sub: "ãƒˆãƒƒãƒ”ãƒ³ã‚°ç„¡æ–™ã‚²ãƒƒãƒˆï¼",
        note: "ã‚¹ã‚¿ãƒƒãƒ•ã«ç”»é¢ã‚’æç¤ºã—ã¦ãã ã•ã„"
      },
      lose: {
        main: "âœ–ï¸ ã¯ãšã‚Œâ€¦",
        sub: "æ¬¡ã®ãƒãƒ£ãƒ³ã‚¹ã‚’ãŠæ¥½ã—ã¿ã«ï¼",
        note: ""
      }
    }
  };

  const themeTexts = textMap[theme] || textMap["A"];
  const stateTexts = document.body.classList.contains("win") ? themeTexts.win : themeTexts.lose;

  mainText.textContent = stateTexts.main;
  subText.textContent = stateTexts.sub;
  noteText.textContent = stateTexts.note;
})();
</script>
</body>
</html>
